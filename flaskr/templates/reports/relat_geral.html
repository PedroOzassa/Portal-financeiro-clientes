{% extends "base.html" %}

{% block title %} Menu - Projeto-financeiro-clientes {% endblock %}

{% block navbar %}
  {% include "includes/navbar.html" %}
{% endblock %}

{% block content %}
<div class="row g-0 justify-content-center">
    <div class="col-9 mt-5">
        <div class="card rounded-4">
            <div class="card-body">
                <h4 class="fw-bold text-primary p-2 card-title">Relatório Gráfico</h4>

                <form class="text-center position-relative" method="post">
                    {{ form.hidden_tag() }}
                    <div class="container">
                        <div class="row">
                            <div class="col-md-3 align-self-center">
                                <div class="mb-3">
                                    {{ form.cedente_id.label(class="form-label fw-semibold text-start text-muted mb-1 d-block") }}
                                    {# Gets the value directly from the user's session #}
                                    {{ form.cedente_id(class="form-control", placeholder="Digite o número da conta", value=current_user.id, readonly="readonly") }}
                                </div>
                            </div>
                            <div class="col-md-3 align-self-center">
                                <div class="mb-3">
                                    {# TODO Find out where is the user type on the session and replace here#}
                                    {{ form.cedente_type.label(class="form-label fw-semibold text-start text-muted mb-1 d-block") }}
                                    {# Gets the value directly from the user's session #}
                                    {{ form.cedente_type(class="form-control", placeholder="Digite o número da conta", value=current_user.id, readonly="readonly") }}                                
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="mb-3">
                                    {{ form.start_date.label(class="form-label fw-semibold text-start text-muted mb-1 d-block") }}
                                    {{ form.start_date(class="form-control", type="date") }}                                
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="mb-3">
                                    {{ form.end_date.label(class="form-label fw-semibold text-start text-muted mb-1 d-block") }}
                                    {{ form.end_date(class="form-control", type="date") }}                                
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="mb-3">
                                    {{ form.interval.label(class="form-label fw-semibold text-start text-muted mb-1 d-block") }}
                                    {{ form.interval(class="form-select") }}
                                </div>
                            </div>
                        </div>
                    </div>
                    {{ form.submit(class="btn btn-primary btn-lg fs-6 fw-semibold m-2 ps-4 pe-4") }}
                </form>
                
                <hr>
                <h5 class="fw-semibold text-end">Saldo Final: <span class="fw-bold text-primary">R$ 0,00</span></h5>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
    <script src="{{ url_for('static', filename='js/report_date_filter.js') }}"></script>
{% endblock %}